{"version":3,"sources":["webpack:///static/js/app.4cbf9d64527a516f186b.js","webpack:///./src/App.vue?955e","webpack:///./src/App.vue?35a7","webpack:///./src/main.js","webpack:///./src/vuex/modules/serviceWorker.js","webpack:///./src/router/index.js","webpack:///./src/vuex/store.js","webpack:///src/App.vue"],"names":["webpackJsonp","3y92","module","__webpack_exports__","__webpack_require__","render","_vm","this","_h","$createElement","_c","_self","attrs","id","staticRenderFns","esExports","8VgL","exports","M93x","injectStyle","ssrContext","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_72054ae6_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__","normalizeComponent","__vue_styles__","Component","NHnr","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_2__App__","__WEBPACK_IMPORTED_MODULE_3__router__","__WEBPACK_IMPORTED_MODULE_4__vuex_store_js__","__WEBPACK_IMPORTED_MODULE_5_less__","__WEBPACK_IMPORTED_MODULE_6_mint_ui__","n","__WEBPACK_IMPORTED_MODULE_6_mint_ui___default","__WEBPACK_IMPORTED_MODULE_7_mint_ui_lib_style_css__","use","a","config","productionTip","window","setTimeout","console","log","dispatch","el","router","store","template","components","App","UkNq","subscribeUser","swReg","applicationServerKey","urlB64ToUint8Array","pushManager","subscribe","userVisibleOnly","then","subscription","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default","catch","err","base64String","padding","repeat","length","base64","replace","rawData","atob","outputArray","Uint8Array","i","charCodeAt","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__","state","indexMsg","categoryMsg","carMsg","userMsg","allMsg","mutations","changeIndex","res","changeCategory","changeCar","changeUser","changeAll","actions","onMessage","_ref","data","commit","to","message","init","_ref2","navigator","serviceWorker","register","getSubscription","addEventListener","event","ports","postMessage","YaEn","__WEBPACK_IMPORTED_MODULE_1_vue_router__","Index","resolve","e","__WEBPACK_AMD_REQUIRE_ARRAY__","apply","bind","oe","Category","Car","User","routes","path","name","component","meta","requireAuth","YtJ0","__WEBPACK_IMPORTED_MODULE_1_vuex__","__WEBPACK_IMPORTED_MODULE_2__modules_serviceWorker__","Store","modules","sw","getters","d8/S","xJD8","websock","created","initWebSocket","destroyed","close","computed","fetchLoading","$store","detail","methods","WebSocket","onmessage","websocketonmessage","onopen","websocketonopen","onerror","websocketonerror","onclose","websocketclose","_this","test","websocketsend","JSON","parse","Data","send"],"mappings":"AAAAA,cAAc,IAERC,OACA,SAAUC,EAAQC,EAAqBC,GAE7C,YCLA,IAAAC,GAAA,WAA0B,GAAAC,GAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,CACjE,OAAAE,GAAA,OACAE,OACAC,GAAA,SAEGH,EAAA,oBAEHI,KACAC,GAAiBV,SAAAS,kBACjBX,GAAA,KDUMa,OACA,SAAUd,EAAQe,KAMlBC,KACA,SAAUhB,EAAQC,EAAqBC,GAE7C,YE7BA,SAAAe,GAAAC,GACAhB,EAAA,QF6BqB,GAAIiB,GAA+GjB,EAAoB,QE9B5JkB,EAAAlB,EAAA,QAGAmB,EAAAnB,EAAA,QAMAoB,EAAAL,EAKAM,EAAAF,EACAF,EAAA,EACAC,EAAA,EACAE,EANA,KAEA,KASArB,GAAA,EAAAsB,EAAA,SFqCMC,KACA,SAAUxB,EAAQC,EAAqBC,GAE7C,YACAuB,QAAOC,eAAezB,EAAqB,cAAgB0B,OAAO,GAC7C,IAAIC,GAAoC1B,EAAoB,QAExD2B,GADqC3B,EAAoB,QACpBA,EAAoB,SACzD4B,EAAwC5B,EAAoB,QAC5D6B,EAA+C7B,EAAoB,QACnE8B,EAAqC9B,EAAoB,QAEzD+B,GAD6C/B,EAAoBgC,EAAEF,GAC3B9B,EAAoB,SAC5DiC,EAAgDjC,EAAoBgC,EAAED,GACtEG,EAAsDlC,EAAoB,OACZA,GAAoBgC,EAAEE,EGlE7GR,GAAA,QAAIS,IAAIF,EAAAG,GACRV,EAAA,QAAIW,OAAOC,eAAgB,EAE3BC,OAAOC,WAAW,WAChBC,QAAQC,IAAIb,EAAA,GACZA,EAAA,EAAMc,SAAS,SACd,KAEH,GAAIjB,GAAA,SACFkB,GAAI,OACJC,OAAAjB,EAAA,EACAkB,MAAAjB,EAAA,EACAkB,SAAU,SACVC,YAAcC,IAAAtB,EAAA,MHgFVuB,KACA,SAAUpD,EAAQC,EAAqBC,GAE7C,YIxGA,SAASmD,GAAcC,GACrB,GAEMC,GAAuBC,EAD3B,0FAEFF,GAAMG,YACHC,WACCC,iBAAiB,EACjBJ,qBAAsBA,IAEvBK,KAAK,SAASC,GACblB,QAAQC,IAAIkB,IAAeD,MAE5BE,MAAM,SAASC,GACdrB,QAAQC,IAAI,SAAUoB,KAI5B,QAASR,GAAmBS,GAS1B,IAAK,GARCC,GAAU,IAAIC,QAAQ,EAAKF,EAAaG,OAAS,GAAM,GACvDC,GAAUJ,EAAeC,GAC5BI,QAAQ,MAAO,KACfA,QAAQ,KAAM,KAEXC,EAAU9B,OAAO+B,KAAKH,GACtBI,EAAc,GAAIC,YAAWH,EAAQH,QAElCO,EAAI,EAAGA,EAAIJ,EAAQH,SAAUO,EACpCF,EAAYE,GAAKJ,EAAQK,WAAWD,EAEtC,OAAOF,GJ4EY,GAAII,GAAqE3E,EAAoB,QACzF4D,EAA6E5D,EAAoBgC,EAAE2C,GI1EtHC,GACJC,SAAU,GACVC,YAAa,GACbC,OAAQ,GACRC,QAAS,GACTC,OAAQ,IAGJC,GACJC,YADgB,SACJP,EAAOQ,GACjBR,EAAMC,SAAWO,GAEnBC,eAJgB,SAIDT,EAAOQ,GACpBR,EAAME,YAAcM,GAEtBE,UAPgB,SAONV,EAAOQ,GACfR,EAAMG,OAASK,GAEjBG,WAVgB,SAULX,EAAOQ,GAChBR,EAAMI,QAAUI,GAElBI,UAbgB,SAaNZ,EAAOQ,GACfR,EAAMK,OAASG,IAIbK,GACJC,UADc,SAAAC,EACeC,GAAM,GAAhBC,IAAgBF,EAAvBf,MAAuBe,EAAhBE,OACF,aAAXD,EAAKE,KACPrD,QAAQC,IAAI,eAAiBkD,GAC7BC,EAAO,iBAAkBD,EAAKG,UAEjB,OAAXH,EAAKE,IACPD,EAAO,YAAaD,EAAKG,UAG7BC,KAVc,SAAAC,GAUY,GAAZtD,IAAYsD,EAAnBrB,MAAmBqB,EAAZtD,SACR,kBAAmBuD,aACrBA,UAAUC,cAAcC,SAAS,eAAe1C,KAAK,SAASN,GAC5DA,EAAMG,YAAY8C,kBAAkB3C,KAAK,SAASC,GAC5CA,EACFlB,QAAQC,IAAIkB,IAAeD,KAE3BlB,QAAQC,IAAI,QACZS,EAAcC,QAIpB8C,UAAUC,cAAcG,iBAAiB,UAAW,SAASC,GAC3DA,EAAMC,MAAM,GAAGC,YAAY,YAC3B9D,EAAS,YAAa4D,EAAMX,UAMpC7F,GAAA,GACE6E,QACAM,YACAO,YJiHIiB,KACA,SAAU5G,EAAQC,EAAqBC,GAE7C,YACqB,IAAI0B,GAAoC1B,EAAoB,QACxD2G,EAA2C3G,EAAoB,OK9MxF0B,GAAA,QAAIS,IAAIwE,EAAA,EAER,IAAMC,GAAQ,SAAAC,GAAA,MAAW7G,GAAA8G,EAAA,GAAApD,KAAA,WAAQ,GAAAqD,IAAC/G,EAAA,QAAsB6G,GLmNqFG,MAAM,KAAMD,IKnNhIE,KAAA9G,OAAA0D,MAAA7D,EAAAkH,KACnBC,EAAW,SAAAN,GAAA,MAAW7G,GAAA8G,EAAA,GAAApD,KAAA,WAAQ,GAAAqD,IAAC/G,EAAA,QAAyB6G,GLqN+EG,MAAM,KAAMD,IKrN7HE,KAAA9G,OAAA0D,MAAA7D,EAAAkH,KACtBE,EAAM,SAAAP,GAAA,MAAW7G,GAAA8G,EAAA,GAAApD,KAAA,WAAQ,GAAAqD,IAAC/G,EAAA,QAAoB6G,GLuNyFG,MAAM,KAAMD,IKvNlIE,KAAA9G,OAAA0D,MAAA7D,EAAAkH,KACjBG,EAAO,SAAAR,GAAA,MAAW7G,GAAA8G,EAAA,GAAApD,KAAA,WAAQ,GAAAqD,IAAC/G,EAAA,QAAqB6G,GLyNuFG,MAAM,KAAMD,IKzNjIE,KAAA9G,OAAA0D,MAAA7D,EAAAkH,IAExBnH,GAAA,KAAmB4G,GAAA,GACjBW,SAEIC,KAAM,IACNC,KAAM,KACNC,UAAWb,IAGXW,KAAM,YACNC,KAAM,MACNC,UAAWN,IAGXI,KAAM,OACNC,KAAM,OACNC,UAAWL,IAGXG,KAAM,QACNC,KAAM,MACNC,UAAWJ,EACXK,MACEC,aAAa,QL6NfC,KACA,SAAU9H,EAAQC,EAAqBC,GAE7C,YACqB,IAAI0B,GAAoC1B,EAAoB,QACxD6H,EAAqC7H,EAAoB,QMlQlF8H,EAAA9H,EAAA,OAKA0B,GAAA,QAAIS,IAAI0F,EAAA,GAER9H,EAAA,KAAmB8H,GAAA,EAAKE,OACtBC,SACEC,GAAAH,EAAA,GAEFlD,SACAsD,WACAhD,aACAO,cNyQI0C,OACA,SAAUrI,EAAQe,KAMlBuH,KACA,SAAUtI,EAAQC,EAAqBC,GAE7C,YACqB,IAAI2E,GAAqE3E,EAAoB,QACzF4D,EAA6E5D,EAAoBgC,EAAE2C,EO5R5H5E,GAAA,GPsSE6F,KAAM,WACJ,OACEyC,QOnSN,OPsSEC,QAAS,WACPnI,KOpSJoI,iBPsSEC,UAAW,WACTrI,KAAKkI,QAAQI,SAGfC,UACEC,aAAc,WACZ,MAAOxI,MAAKyI,OAAOhE,MAAMiE,OOrS/BF,ePwSEG,SACEP,cAAe,WAGbpI,KAAKkI,QAAU,GAAIU,WOvSzB,uBPwSM5I,KAAKkI,QAAQW,UAAY7I,KOtS/B8I,mBPuSM9I,KAAKkI,QAAQa,OAAS/I,KOtS5BgJ,gBPuSMhJ,KAAKkI,QAAQe,QAAUjJ,KOtS7BkJ,iBPuSMlJ,KAAKkI,QAAQiB,QAAUnJ,KOtS7BoJ,gBPwSIJ,gBAAiB,WACf,GAAIK,GAAQrJ,KAGRsF,GAAYgE,KOzStB,QP0SMjH,YAAW,WACTgH,EAAME,cAAc9F,IOzS5B6B,KACA,MP2SI4D,iBAAkB,aAGlBJ,mBAAoB,SAA4BnC,GAEjC6C,KAAKC,MAAM9C,EO1S9BlB,OP4SI8D,cAAe,SAAuBG,GAEpC1J,KAAKkI,QAAQyB,KO3SnBD,IP6SIN,eAAgB,SAAwBzC,GAEtCrE,QAAQC,IAAI,OO5SlBoE,SPmTG","file":"static/js/app.4cbf9d64527a516f186b.js","sourcesContent":["webpackJsonp([5],{\n\n/***/ \"3y92\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('router-view')], 1)\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"8VgL\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"M93x\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__ = __webpack_require__(\"xJD8\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_72054ae6_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__ = __webpack_require__(\"3y92\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"8VgL\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_72054ae6_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__[\"a\" /* default */],\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"NHnr\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(\"7+uW\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vuex__ = __webpack_require__(\"NYxO\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__App__ = __webpack_require__(\"M93x\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__router__ = __webpack_require__(\"YaEn\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__vuex_store_js__ = __webpack_require__(\"YtJ0\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_less__ = __webpack_require__(\"nrAE\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_less___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_less__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_mint_ui__ = __webpack_require__(\"Au9i\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_mint_ui___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_mint_ui__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_mint_ui_lib_style_css__ = __webpack_require__(\"d8/S\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_mint_ui_lib_style_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_mint_ui_lib_style_css__);\n\n\n\n\n //vuex\n\n //移动端UI\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].use(__WEBPACK_IMPORTED_MODULE_6_mint_ui___default.a);\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].config.productionTip = false;\n\nwindow.setTimeout(function () {\n  console.log(__WEBPACK_IMPORTED_MODULE_4__vuex_store_js__[\"a\" /* default */]);\n  __WEBPACK_IMPORTED_MODULE_4__vuex_store_js__[\"a\" /* default */].dispatch(\"init\");\n}, 1000);\n\nnew __WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"]({\n  el: \"#app\",\n  router: __WEBPACK_IMPORTED_MODULE_3__router__[\"a\" /* default */],\n  store: __WEBPACK_IMPORTED_MODULE_4__vuex_store_js__[\"a\" /* default */],\n  template: \"<App/>\",\n  components: { App: __WEBPACK_IMPORTED_MODULE_2__App__[\"a\" /* default */] }\n});\n\n/***/ }),\n\n/***/ \"UkNq\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__ = __webpack_require__(\"mvHQ\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__);\n\nfunction subscribeUser(swReg) {\n  var applicationServerPublicKey = \"BBlY_5OeDkp2zl_Hx9jFxymKyK4kQKZdzoCoe0L5RqpiV2eK0t4zx-d3JPHlISZ0P1nQdSZsxuA5SRlDB0MZWLw\";\n  var applicationServerKey = urlB64ToUint8Array(applicationServerPublicKey);\n  swReg.pushManager.subscribe({\n    userVisibleOnly: true,\n    applicationServerKey: applicationServerKey\n  }).then(function (subscription) {\n    console.log(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(subscription));\n  }).catch(function (err) {\n    console.log(\"订阅失败: \", err);\n  });\n}\n\nfunction urlB64ToUint8Array(base64String) {\n  var padding = \"=\".repeat((4 - base64String.length % 4) % 4);\n  var base64 = (base64String + padding).replace(/\\-/g, \"+\").replace(/_/g, \"/\");\n\n  var rawData = window.atob(base64);\n  var outputArray = new Uint8Array(rawData.length);\n\n  for (var i = 0; i < rawData.length; ++i) {\n    outputArray[i] = rawData.charCodeAt(i);\n  }\n  return outputArray;\n}\n\nvar state = {\n  indexMsg: \"\",\n  categoryMsg: \"\",\n  carMsg: \"\",\n  userMsg: \"\",\n  allMsg: \"\"\n};\n\nvar mutations = {\n  changeIndex: function changeIndex(state, res) {\n    state.indexMsg = res;\n  },\n  changeCategory: function changeCategory(state, res) {\n    state.categoryMsg = res;\n  },\n  changeCar: function changeCar(state, res) {\n    state.carMsg = res;\n  },\n  changeUser: function changeUser(state, res) {\n    state.userMsg = res;\n  },\n  changeAll: function changeAll(state, res) {\n    state.allMsg = res;\n  }\n};\n\nvar actions = {\n  onMessage: function onMessage(_ref, data) {\n    var state = _ref.state,\n        commit = _ref.commit;\n\n    if (data.to == \"category\") {\n      console.log(\"category收到消息\" + data);\n      commit(\"changeCategory\", data.message);\n    }\n    if (data.to == \"all\") {\n      commit(\"changeAll\", data.message);\n    }\n  },\n  init: function init(_ref2) {\n    var state = _ref2.state,\n        dispatch = _ref2.dispatch;\n\n    if (\"serviceWorker\" in navigator) {\n      navigator.serviceWorker.register(\"../../sw.js\").then(function (swReg) {\n        swReg.pushManager.getSubscription().then(function (subscription) {\n          if (subscription) {\n            console.log(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(subscription));\n          } else {\n            console.log(\"没有订阅\");\n            subscribeUser(swReg);\n          }\n        });\n      });\n      navigator.serviceWorker.addEventListener(\"message\", function (event) {\n        event.ports[0].postMessage(\"all 给出回应\");\n        dispatch(\"onMessage\", event.data);\n      });\n    }\n  }\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  state: state,\n  mutations: mutations,\n  actions: actions\n});\n\n/***/ }),\n\n/***/ \"YaEn\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(\"7+uW\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue_router__ = __webpack_require__(\"/ocq\");\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].use(__WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]);\n//按需加载,当渲染其他页面时才加载其组件,并缓存,减少首屏加载时间\nvar Index = function Index(resolve) {\n  return __webpack_require__.e/* require */(0).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(\"mlqX\")]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this)).catch(__webpack_require__.oe);\n};\nvar Category = function Category(resolve) {\n  return __webpack_require__.e/* require */(1).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(\"fXvj\")]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this)).catch(__webpack_require__.oe);\n};\nvar Car = function Car(resolve) {\n  return __webpack_require__.e/* require */(2).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(\"SeH+\")]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this)).catch(__webpack_require__.oe);\n};\nvar User = function User(resolve) {\n  return __webpack_require__.e/* require */(3).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(\"i/Eh\")]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this)).catch(__webpack_require__.oe);\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (new __WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]({\n  routes: [{\n    path: \"/\",\n    name: \"首页\",\n    component: Index\n  }, {\n    path: \"/category\",\n    name: \"分类页\",\n    component: Category\n  }, {\n    path: \"/car\",\n    name: \"购物车页\",\n    component: Car\n  }, {\n    path: \"/user\",\n    name: \"用户页\",\n    component: User,\n    meta: {\n      requireAuth: true // 添加该字段，表示进入这个路由是需要登录才能进入的\n    }\n  }]\n}));\n\n/***/ }),\n\n/***/ \"YtJ0\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(\"7+uW\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vuex__ = __webpack_require__(\"NYxO\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__modules_serviceWorker__ = __webpack_require__(\"UkNq\");\n//store.js\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].use(__WEBPACK_IMPORTED_MODULE_1_vuex__[\"a\" /* default */]);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (new __WEBPACK_IMPORTED_MODULE_1_vuex__[\"a\" /* default */].Store({\n  modules: {\n    sw: __WEBPACK_IMPORTED_MODULE_2__modules_serviceWorker__[\"a\" /* default */]\n  },\n  state: {},\n  getters: {},\n  mutations: {},\n  actions: {}\n}));\n\n/***/ }),\n\n/***/ \"d8/S\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"xJD8\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__ = __webpack_require__(\"mvHQ\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__);\n\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  data: function data() {\n    return {\n      websock: null\n    };\n  },\n  created: function created() {\n    this.initWebSocket();\n  },\n  destroyed: function destroyed() {\n    this.websock.close(); //离开路由之后断开websocket连接\n  },\n\n  computed: {\n    fetchLoading: function fetchLoading() {\n      return this.$store.state.detail.fetchLoading;\n    }\n  },\n  methods: {\n    initWebSocket: function initWebSocket() {\n      //初始化weosocket\n      var wsuri = \"ws://127.0.0.1:1322\";\n      this.websock = new WebSocket(wsuri);\n      this.websock.onmessage = this.websocketonmessage;\n      this.websock.onopen = this.websocketonopen;\n      this.websock.onerror = this.websocketonerror;\n      this.websock.onclose = this.websocketclose;\n    },\n    websocketonopen: function websocketonopen() {\n      var _this = this;\n\n      //连接建立之后执行send方法发送数据\n      var actions = { \"test\": \"12345\" };\n      setTimeout(function () {\n        _this.websocketsend(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(actions));\n      }, 500);\n    },\n    websocketonerror: function websocketonerror() {//连接建立失败重连\n      // this.initWebSocket();\n    },\n    websocketonmessage: function websocketonmessage(e) {\n      //数据接收\n      var redata = JSON.parse(e.data);\n    },\n    websocketsend: function websocketsend(Data) {\n      //数据发送\n      this.websock.send(Data);\n    },\n    websocketclose: function websocketclose(e) {\n      //关闭\n      console.log('断开连接', e);\n    }\n  }\n});\n\n/***/ })\n\n},[\"NHnr\"]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.4cbf9d64527a516f186b.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('router-view')], 1)\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-72054ae6\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 3y92\n// module chunks = 5","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-72054ae6\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-72054ae6\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = M93x\n// module chunks = 5","import Vue from \"vue\";\nimport Vuex from \"vuex\";\nimport App from \"./App\";\nimport router from \"./router\";\nimport store from \"@/vuex/store.js\"; //vuex\nimport less from \"less\";\nimport Mint from \"mint-ui\"; //移动端UI\nimport \"mint-ui/lib/style.css\";\nVue.use(Mint);\nVue.config.productionTip = false;\n\nwindow.setTimeout(function() {\n  console.log(store);\n  store.dispatch(\"init\");\n}, 1000);\n\nnew Vue({\n  el: \"#app\",\n  router,\n  store,\n  template: \"<App/>\",\n  components: { App }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","function subscribeUser(swReg) {\r\n  const applicationServerPublicKey =\r\n    \"BBlY_5OeDkp2zl_Hx9jFxymKyK4kQKZdzoCoe0L5RqpiV2eK0t4zx-d3JPHlISZ0P1nQdSZsxuA5SRlDB0MZWLw\";\r\n  const applicationServerKey = urlB64ToUint8Array(applicationServerPublicKey);\r\n  swReg.pushManager\r\n    .subscribe({\r\n      userVisibleOnly: true,\r\n      applicationServerKey: applicationServerKey\r\n    })\r\n    .then(function(subscription) {\r\n      console.log(JSON.stringify(subscription));\r\n    })\r\n    .catch(function(err) {\r\n      console.log(\"订阅失败: \", err);\r\n    });\r\n}\r\n\r\nfunction urlB64ToUint8Array(base64String) {\r\n  const padding = \"=\".repeat((4 - (base64String.length % 4)) % 4);\r\n  const base64 = (base64String + padding)\r\n    .replace(/\\-/g, \"+\")\r\n    .replace(/_/g, \"/\");\r\n\r\n  const rawData = window.atob(base64);\r\n  const outputArray = new Uint8Array(rawData.length);\r\n\r\n  for (let i = 0; i < rawData.length; ++i) {\r\n    outputArray[i] = rawData.charCodeAt(i);\r\n  }\r\n  return outputArray;\r\n}\r\n\r\nconst state = {\r\n  indexMsg: \"\",\r\n  categoryMsg: \"\",\r\n  carMsg: \"\",\r\n  userMsg: \"\",\r\n  allMsg: \"\"\r\n};\r\n\r\nconst mutations = {\r\n  changeIndex(state, res) {\r\n    state.indexMsg = res;\r\n  },\r\n  changeCategory(state, res) {\r\n    state.categoryMsg = res;\r\n  },\r\n  changeCar(state, res) {\r\n    state.carMsg = res;\r\n  },\r\n  changeUser(state, res) {\r\n    state.userMsg = res;\r\n  },\r\n  changeAll(state, res) {\r\n    state.allMsg = res;\r\n  }\r\n};\r\n\r\nconst actions = {\r\n  onMessage({ state, commit }, data) {\r\n    if (data.to == \"category\") {\r\n      console.log(\"category收到消息\" + data);\r\n      commit(\"changeCategory\", data.message);\r\n    }\r\n    if (data.to == \"all\") {\r\n      commit(\"changeAll\", data.message);\r\n    }\r\n  },\r\n  init({ state, dispatch }) {\r\n    if (\"serviceWorker\" in navigator) {\r\n      navigator.serviceWorker.register(\"../../sw.js\").then(function(swReg) {\r\n        swReg.pushManager.getSubscription().then(function(subscription) {\r\n          if (subscription) {\r\n            console.log(JSON.stringify(subscription));\r\n          } else {\r\n            console.log(\"没有订阅\");\r\n            subscribeUser(swReg);\r\n          }\r\n        });\r\n      });\r\n      navigator.serviceWorker.addEventListener(\"message\", function(event) {\r\n        event.ports[0].postMessage(\"all 给出回应\");\r\n        dispatch(\"onMessage\", event.data);\r\n      });\r\n    }\r\n  }\r\n};\r\n\r\nexport default {\r\n  state,\r\n  mutations,\r\n  actions\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/vuex/modules/serviceWorker.js","import Vue from \"vue\";\nimport Router from \"vue-router\";\n\nVue.use(Router);\n//按需加载,当渲染其他页面时才加载其组件,并缓存,减少首屏加载时间\nconst Index = resolve => require([\"@/views/Index.vue\"], resolve);\nconst Category = resolve => require([\"@/views/Category.vue\"], resolve);\nconst Car = resolve => require([\"@/views/Car.vue\"], resolve);\nconst User = resolve => require([\"@/views/User.vue\"], resolve);\n\nexport default new Router({\n  routes: [\n    {\n      path: \"/\",\n      name: \"首页\",\n      component: Index\n    },\n    {\n      path: \"/category\",\n      name: \"分类页\",\n      component: Category\n    },\n    {\n      path: \"/car\",\n      name: \"购物车页\",\n      component: Car\n    },\n    {\n      path: \"/user\",\n      name: \"用户页\",\n      component: User,\n      meta: {\n        requireAuth: true // 添加该字段，表示进入这个路由是需要登录才能进入的\n      }\n    }\n  ]\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","//store.js\nimport Vue from \"vue\";\nimport Vuex from \"vuex\";\nimport sw from \"./modules/serviceWorker\";\n\nVue.use(Vuex);\n\nexport default new Vuex.Store({\n  modules: {\n    sw\n  },\n  state: {},\n  getters: {},\n  mutations: {},\n  actions: {}\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/vuex/store.js","<template>\n  <div id=\"app\">\n    <router-view></router-view>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      websock: null,\n    }\n  },\n  created() {\n    this.initWebSocket();\n  },\n  destroyed() {\n    this.websock.close() //离开路由之后断开websocket连接\n  },\n  computed: {\n    fetchLoading() {\n      return this.$store.state.detail.fetchLoading\n    }\n  },\n  methods: {\n    initWebSocket() { //初始化weosocket\n      const wsuri = \"ws://127.0.0.1:1322\";\n      this.websock = new WebSocket(wsuri);\n      this.websock.onmessage = this.websocketonmessage;\n      this.websock.onopen = this.websocketonopen;\n      this.websock.onerror = this.websocketonerror;\n      this.websock.onclose = this.websocketclose;\n    },\n    websocketonopen() { //连接建立之后执行send方法发送数据\n      let actions = { \"test\": \"12345\" };\n      setTimeout(() => {\n        this.websocketsend(JSON.stringify(actions));\n      }, 500)\n    },\n    websocketonerror() {//连接建立失败重连\n      // this.initWebSocket();\n    },\n    websocketonmessage(e) { //数据接收\n      const redata = JSON.parse(e.data);\n    },\n    websocketsend(Data) {//数据发送\n      this.websock.send(Data);\n    },\n    websocketclose(e) {  //关闭\n      console.log('断开连接', e);\n    },\n  }\n}\n</script>\n\n<style lang=\"less\">\nhtml,\nbody,\n#app {\n  width: 100%;\n  height: 100%;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n\nbody,\ndd,\ndl,\ndt,\nfieldset,\nform,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\nhtml,\nimg,\nlegend,\nli,\nol,\np,\nul {\n  margin: 0;\n  padding: 0;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  -webkit-tap-highlight-color: transparent;\n}\n\nbutton,\nfieldset,\nimg,\ninput {\n  border: none;\n  padding: 0;\n  margin: 0;\n  outline-style: none;\n}\n\nul,\nli {\n  background-color: #ffffff;\n}\nol,\nul {\n  list-style: none;\n}\n\ninput {\n  padding-top: 0;\n  padding-bottom: 0;\n  font-family: \"SimSun\", \"宋体\";\n}\n\ninput,\nselect {\n  vertical-align: middle;\n}\n\ninput,\nselect,\ntextarea {\n  font-size: 12px;\n  margin: 0;\n}\ntextarea {\n  resize: none;\n}\n\n/*防止拖动*/\nimg {\n  border: 0;\n  vertical-align: middle;\n}\n\n/*  去掉图片低测默认的3像素空白缝隙*/\ntable {\n  border-collapse: collapse;\n}\n//去斜体\ni {\n  font-style: normal;\n}\nbody {\n  font-family: PingFangSC-Light, helvetica, \"Heiti SC\";\n  color: #666;\n  background: #fff;\n}\n\na {\n  color: #666;\n  text-decoration: none;\n}\n\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  text-decoration: none;\n  font-weight: normal;\n  font-size: 100%;\n  font-family: PingFangSC-Light, helvetica, \"Heiti SC\";\n}\n\n.ac {\n  text-align: center;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue?5bb40b25"],"sourceRoot":""}